## Repository Organization

* Library and Application code in the /neuroport_dbs folder
* Unit tests in the /tests folder. Note this uses the pytest framework and conventions.
* Documentation in the /docs folder

## Maintaining the Documentation

You will need to install several Python packages to maintain the documentation.

* `pip install mkdocs mkdocstrings mknotebooks mkdocs-material Pygments`

The /docs/{top-level-section} folders contain a mix of .md and .ipynb documentation. The latter are converted to .md by the [mknotebooks plugin](https://github.com/greenape/mknotebooks/projects) during building.

Run `mkdocs gh-deploy` to build the documentation, commit to the `gh-deploy` branch, and push to GitHub. This will make the documentation available at https://SachsLab.github.io/NeuroportDBS/

### Autogenerated Documentation

The /docs/neuroport_dbs folder can hold stubs to tell the [mkdocstrings plugin](https://github.com/mkdocstrings/mkdocstrings) to build the API documentation from the docstrings in the library code itself. Currently this is empty. If any stubs are added then it's necessary to build the documentation from a Python environment that has the package installed. A stub takes the form

```
# Title
::: neuroport_dbs.module.name
```

### Testing the documentation locally

* `mkdocs serve`

If you build the docs locally then you'll also get the /site directory, but this should be git ignored.

## Running the unit tests

TODO



## For experts who want to use their existing environment

We assume you know how to work with conda environments and that you have a MySQL database server running and configured to your liking.

* Install the Python packages from the table above.
* Adapt the instructions at [Segmented Electrophys Recordings and Features Database (SERF)](https://github.com/cboulay/SERF) to prepare the database server for these tools.
* If you have a hybrid distribution/system-MySQL environment (i.e., your name is Guillaume) then you may also wish to use some of the MySQL DB config settings from above.

## Future goal - installable package

-[] Refactor this repo to exist only as a library
-[] Create a new repo for entry points, leveraging above library, create installer using [fman build system](https://build-system.fman.io/)
